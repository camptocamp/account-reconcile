<odoo>

<template id="report_invoice_document" inherit_id="account.report_invoice_document">
  <xpath expr="//p[@t-field='o.name']" position="replace">
    <t t-if="o.refund_description_id">
      <p t-field="o.refund_description_id.name"/>
    </t>
    <t t-if="not o.refund_description_id">
      <p t-field="o.name"/>
    </t>
  </xpath>

  <xpath expr="//address" position="replace">
    <t t-if="not o.partner_id.parent_id.qoqa_bind_ids">
      <address t-field="o.partner_id"
          t-field-options='{"widget": "contact", "fields": ["address", "name"], "no_marker": true}' />
    </t>
    <t t-if="o.partner_id.parent_id.qoqa_bind_ids">
      <span t-field="o.partner_id.name"/>
      <address t-field="o.partner_id"
          t-field-options='{"widget": "contact", "fields": ["address"], "no_marker": true}' />
    </t>

  </xpath>
</template>

</odoo>
